<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>Trabalho-IP</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    
<div id="loginDiv">
  <h2>Login</h2>
  <input type="text" id="username" placeholder="UsuÃ¡rio">
  <input type="password" id="password" placeholder="Senha">
  <button onclick="login()">Entrar</button>
  <p id="loginMsg"></p>

</div>

<script>
  const baseURL = 'http://localhost:3000';
   
        async function login() {
      const username = document.getElementById('username').value;
      const password = document.getElementById('password').value;
  
      const res = await fetch(`${baseURL}/login`, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ username, password }),
        credentials: 'include', 
      });

       if (res.redirected) {
      window.location.href = res.url;
    } else {
      const msg = await res.text();
      document.getElementById('loginMsg').innerText = msg;
    }
    };
</script>
</body>
</html>